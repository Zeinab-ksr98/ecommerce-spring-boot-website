<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>User Profile</title>-->
<!--    <link rel="stylesheet" href="styles.css">-->
<!--    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">-->
<!--</head>-->
<!--<body>-->

<!--<main>-->
<!--    <div class="container mt-4">-->
<!--        <div class="row">-->
<!--            &lt;!&ndash; First Section (Displayed Normally) &ndash;&gt;-->
<!--            <div class="col-md-12">-->
<!--                <section class="user-profile" th:if="${user != null}">-->
<!--                    <h2>Welcome, <span th:text="${user.username}"></span>!</h2>-->
<!--                    <a th:href="@{/home}">-->
<!--                        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="30" height="30" viewBox="0 0 40 40">-->
<!--                            <path fill="#dff0fe" d="M3.5,38.5V13.3L20,3.6l16.5,9.7v25.2H3.5z"></path><path fill="#4788c7" d="M20,4.2l16,9.4V38H4V13.6L20,4.2 M20,3L3,13v26h34V13L20,3L20,3z"></path><path fill="#b6dcfe" d="M20,4.6L1.5,16v-3.1L20,1.6l18.5,11.3V16L20,4.6z"></path><path fill="#4788c7" d="M20,2.2l18,11v1.9L20.5,4.4L20,4.1l-0.5,0.3L2,15.1v-1.9L20,2.2 M20,1L1,12.6v4.2L20,5.2l19,11.6v-4.2L20,1	L20,1z"></path><path fill="#b6dcfe" d="M14.5,21.5h11v17h-11V21.5z"></path><path fill="#4788c7" d="M25,22v16H15V22H25 M26,21H14v18h12V21L26,21z"></path><path fill="#4788c7" d="M23,30c-0.6,0-1,0.4-1,1s0.4,1,1,1s1-0.4,1-1S23.6,30,23,30z"></path>-->
<!--                        </svg>-->
<!--                    </a>-->
<!--                    <a th:href="@{/create-admin}">-->
<!--                        <img width="30" height="30" src="https://img.icons8.com/ultraviolet/40/add-user-male.png" alt="add-user-male"/>-->
<!--                    </a>-->
<!--                    <div class="user-details">-->
<!--                        <p>Email: <span th:text="${user.email}"></span></p>-->
<!--                        <p>Phone: <span th:text="${user.phone}"></span></p>-->
<!--                    </div>-->
<!--                </section>-->
<!--            </div>-->
<!--            &lt;!&ndash; Left Section &ndash;&gt;-->
<!--            <div class="col-md-6">-->
<!--                <section class="card">-->
<!--                    <div class="card-body">-->
<!--                        <form class="profile-form" th:action="@{/profile-edit}" th:object="${user}" method="post">-->
<!--                            <h4>Edit Profile:</h4>-->
<!--                            <input type="text" th:field="*{username}" placeholder="New Username" required>-->
<!--                            <input type="email" th:field="*{email}" placeholder="New Email" required>-->
<!--                            <input type="tel" th:field="*{phone}" placeholder="New Phone" required>-->
<!--                            <button type="submit">Save</button>-->
<!--                        </form>-->
<!--                    </div>-->
<!--                </section>-->
<!--            </div>-->
<!--            &lt;!&ndash; Right Section &ndash;&gt;-->
<!--            <div class="col-md-6">-->
<!--                <section class="card">-->
<!--                    <div class="card-body">-->
<!--                        <form class="password-reset-form" th:action="@{/profile-resetPassword}" method="post">-->
<!--                            <h4>Reset Password:</h4>-->
<!--                            <input type="password" name="newPassword" placeholder="New Password" required>-->
<!--                            <button type="submit">Reset</button>-->
<!--                        </form>-->
<!--                    </div>-->
<!--                </section>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</main>-->
<!--&lt;!&ndash; Add Bootstrap JS and jQuery script links here &ndash;&gt;-->
<!--<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>-->
<!--<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>-->
<!--<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>-->
<!--</body>-->
<!--</html>-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>

<main>
    <div class="container mt-4 ">
        <div class="row">
            <div class="col-md-12">
                <section class="user-profile bg-light p-4 rounded" th:if="${user != null}">
                    <div class="d-flex align-items-center">
                        <h2 class="mb-0">Welcome, <span th:text="${user.username}"></span>!</h2>
                        <a th:href="@{/home/-1}" class="ml-2">
                            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="30" height="30"
                                 viewBox="0 0 40 40">
                                <path fill="#dff0fe" d="M3.5,38.5V13.3L20,3.6l16.5,9.7v25.2H3.5z"></path>
                                <path fill="#4788c7"
                                      d="M20,4.2l16,9.4V38H4V13.6L20,4.2 M20,3L3,13v26h34V13L20,3L20,3z"></path>
                                <path fill="#b6dcfe" d="M20,4.6L1.5,16v-3.1L20,1.6l18.5,11.3V16L20,4.6z"></path>
                                <path fill="#4788c7"
                                      d="M20,2.2l18,11v1.9L20.5,4.4L20,4.1l-0.5,0.3L2,15.1v-1.9L20,2.2 M20,1L1,12.6v4.2L20,5.2l19,11.6v-4.2L20,1	L20,1z"></path>
                                <path fill="#b6dcfe" d="M14.5,21.5h11v17h-11V21.5z"></path>
                                <path fill="#4788c7" d="M25,22v16H15V22H25 M26,21H14v18h12V21L26,21z"></path>
                                <path fill="#4788c7"
                                      d="M23,30c-0.6,0-1,0.4-1,1s0.4,1,1,1s1-0.4,1-1S23.6,30,23,30z"></path>
                            </svg>
                        </a>
                        <!--                        <a th:href="@{/create-admin}" class="ml-2" th:if="${userrole != null and userrole.contains('ADMIN')}">-->
                        <!--                            <img width="30" height="30" src="https://img.icons8.com/ultraviolet/40/add-user-male.png" alt="add-user-male"/>-->
                        <!--                        </a>-->
                    </div>
                    <div class="user-details mt-3">
                        <div class="user-details mt-3">
                            <p>Email: <span th:text="${user.email}"></span></p>
                            <p>Phone: <span th:text="${user.phone}"></span></p>

                            <p>Addresses:</p>
                            <div th:each="address: ${user.addresses}">
                                <dl>
                                    <dt th:text="${address.city}"></dt>
                                    <dd th:text="${address.state}"></dd>
                                    <dd th:text="${address.street}"></dd>
                                    <dd th:text="${address.postalCode}"></dd>
                                </dl>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
            <!-- Left Section -->
            <div class="col-md-6 my-1">
                <section class="card bg-light p-4 rounded">
                    <div class="card-body">
                        <form class="profile-form" th:action="@{/profile-edit}" th:object="${user}" method="post">
                            <h4>Edit Profile:</h4>
                            <input type="text" th:field="*{username}" placeholder="New Username" required><br>
                            <input type="hidden" th:field="*{wish}" placeholder="New Username">
                            <input type="hidden" th:field="*{cart}" placeholder="New Username">
                            <input type="hidden" th:field="*{enabled}" placeholder="New Username">
                            <input type="hidden" th:field="*{deleted}" placeholder="New Username">
                            <input type="hidden" th:field="*{password}" placeholder="New Username">
                            <input type="hidden" th:field="*{id}" placeholder="New Username">
                            <input type="hidden" th:field="*{roles}" placeholder="New Username">
                            <input type="email" th:field="*{email}" placeholder="New Email" required><br>
                            <input type="tel" th:field="*{phone}" placeholder="New Phone" required><br>
                            <input type="hidden" th:field="*{addresses}" placeholder="New Username">

                            <!--                            <div class="form-group">-->
<!--                                <label>Address</label>-->
<!--                                <input type="tel" th:field="*{addresses[0].street}" placeholder="Address 1: Street"-->
<!--                                       required>-->
<!--                                <input type="text" th:field="*{addresses[0].city}" placeholder="Address 1: City"-->
<!--                                       required>-->
<!--                                <input type="text" th:field="*{addresses[0].state}" placeholder="Address 1: State"-->
<!--                                       required>-->
<!--                                <input type="text" th:field="*{addresses[0].postalCode}"-->
<!--                                       placeholder="Address 1: Postal Code" required>-->
<!--                                <div id="additional-addresses">-->
<!--                                    &lt;!&ndash;                                    Additional addresses &ndash;&gt;-->
<!--                                </div>-->
<!--                                <button type="button" id="add-address-button">Add Address</button>-->

<!--                            </div>-->
                            <button type="submit" class="btn btn-primary">Save</button>
                        </form>
                        <form th:action="@{/address-edit}" th:object="${address}" method="post">
                            <input type="tel" th:field="*{street}" placeholder="Address 1: Street"
                                   required>
                            <input type="text" th:field="*{city}" placeholder="Address 1: City"
                                   required>
                            <input type="text" th:field="*{state}" placeholder="Address 1: State"
                                   required>
                            <input type="text" th:field="*{postalCode}"
                                   placeholder="Address 1: Postal Code" required>

                            <button type="submit" class="btn btn-primary">Save</button>

                        </form>
                    </div>
                </section>
            </div>
            <!-- Right Section -->
            <div class="col-md-6 my-1">
                <section class="card bg-light p-4 rounded">
                    <div class="card-body">
                        <form class="password-reset-form" th:action="@{/profile-resetPassword}" method="post">
                            <h4>Reset Password:</h4>
                            <input type="password" name="newPassword" placeholder="New Password" required>
                            <button type="submit" class="btn btn-primary">Reset</button>
                        </form>
                    </div>
                </section>
            </div>
            <div class="col-md-12">
                <div class="user-profile bg-light p-4 rounded">
                    <h4>Orders History</h4>
                    <table class="table  table-bordered rounded ">
                        <thead class="table-primary">
                        <tr>
                            <th>Products</th>
                            <th>total Price</th>
                            <th>Status</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="order : ${orders}">
                            <td>
                                <ul class="list-unstyled">
                                    <li th:each="item : ${order.getOrdersList()}">
                                        <p th:text="${item.product.name}"></p>
                                    </li>
                                </ul>
                            </td>
                            <td th:text="${order.totalPrice}"></td>

                            <td th:text="${order.status}"></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</main>


<!-- Add Bootstrap JS and jQuery script links here -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
